<div class="container-fluid mt-4">
  <div class="alert alert-info mb-4">
    <strong>Bienvenido, {{ nombreUsuario }}!</strong> Panel de Control Financiero - Mensual
  </div>

  <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-3 mb-4">
    <div class="col">
      <div class="card text-white bg-success h-100">
        <div class="card-body text-center">
          <i class="fas fa-arrow-up fa-2x mb-2"></i>
          <h5 class="card-title">Ingresos Totales</h5>
          <p class="card-text display-6">${{ ingresosTotales | number: '1.2-2' }}</p>
          <small class="text-success-light">+12% respecto al mes anterior</small>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card text-white bg-danger h-100">
        <div class="card-body text-center">
          <i class="fas fa-arrow-down fa-2x mb-2"></i>
          <h5 class="card-title">Gastos Totales</h5>
          <p class="card-text display-6">${{ gastosTotales | number: '1.2-2' }}</p>
          <small class="text-danger-light">+5% respecto al mes anterior</small>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card text-white bg-primary h-100">
        <div class="card-body text-center">
          <i class="fas fa-wallet fa-2x mb-2"></i>
          <h5 class="card-title">Saldo Neto</h5>
          <p class="card-text display-6">${{ saldoNeto | number: '1.2-2' }}</p>
          <small class="text-primary-light">Disponible</small>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card text-white bg-warning h-100">
        <div class="card-body text-center">
          <i class="fas fa-users fa-2x mb-2"></i>
          <h5 class="card-title">Clientes</h5>
          <p class="card-text display-6">{{ clientesActivos }}</p>
          <small class="text-warning-light">{{ clientesNuevos }} nuevos este mes</small>
        </div>
      </div>
    </div>
  </div>

  <div class="row row-cols-1 row-cols-md-2 g-3 mb-4">
    <div class="col">
      <div class="card text-white bg-info h-100">
        <div class="card-body text-center">
          <i class="fas fa-shopping-cart fa-2x mb-2"></i>
          <h5 class="card-title">Compras Registradas</h5>
          <p class="card-text display-6">{{ comprasRegistradas }}</p>
          <small class="text-info-light">Valor total: ${{ valorCompras | number: '1.2-2' }}</small>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card text-white bg-secondary h-100">
        <div class="card-body text-center">
          <i class="fas fa-file-invoice-dollar fa-2x mb-2"></i>
          <h5 class="card-title">Facturas Pendientes</h5>
          <p class="card-text display-6">{{ facturasPendientes }}</p>
          <small class="text-secondary-light">Monto: ${{ montoFacturasPendientes | number: '1.2-2' }}</small>
        </div>
      </div>
    </div>
  </div>

  <div class="row g-3 mb-4">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-header bg-light">
          <h5 class="card-title mb-0">Distribución de Gastos</h5>
        </div>
        <div class="card-body d-flex justify-content-center">
          <div style="width: 100%; height: 300px;">
            <canvas id="gastosChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="card">
        <div class="card-header bg-light">
          <h5 class="card-title mb-0">Comparativa Ingresos vs Gastos</h5>
        </div>
        <div class="card-body d-flex justify-content-center">
          <div style="width: 100%; height: 300px;">
            <canvas id="comparisonChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header bg-light">
      <h5 class="card-title mb-0">Transacciones Recientes</h5>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Tipo</th>
              <th>Descripción</th>
              <th>Monto</th>
              <th>Fecha</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let transaccion of transacionesRecientes">
              <td>
                <i [ngClass]="transaccion.tipo === 'Ingreso' ? 'fas fa-plus text-success' : 'fas fa-minus text-danger'" class="me-2"></i>
                {{ transaccion.tipo }}
              </td>
              <td>{{ transaccion.descripcion }}</td>
              <td>
                <span [ngClass]="transaccion.tipo === 'Ingreso' ? 'text-success' : 'text-danger'">
                  {{ transaccion.tipo === 'Ingreso' ? '+' : '-' }}${{ transaccion.monto | number: '1.2-2' }}
                </span>
              </td>
              <td>{{ transaccion.fecha | date: 'short' }}</td>
              <td>
                <span [ngClass]="'badge bg-' + (transaccion.estado === 'Completado' ? 'success' : 'warning')">
                  {{ transaccion.estado }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>